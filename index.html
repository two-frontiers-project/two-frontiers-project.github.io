<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>2FP Open Tools & Protocols</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Two Frontiers Project - Open source research tools and protocols">
  <script>
    window.$docsify = {
      name: '2FP Open Tools',
      repo: 'https://github.com/two-frontiers-project',
      loadSidebar: true,
      subMaxLevel: 2, // Generate ToC from H2 and H3 headings
      auto2top: true,
      search: 'auto',
      alias: {
        '/.*/_sidebar.md': '/_sidebar.md'
      },
      plugins: [
        function(hook) {
          // This plugin cleans up the sidebar after it's rendered
          hook.doneEach(function() {
            // List of top-level category names to remove if they appear as sub-items
            const topLevelCategories = [
              'Speciality Kits',
              'Hardware',
              'Software',
              'Templates',
              'Field Protocols',
              'Handbook',
              'Lab Protocols',
              'Overview'
            ];

            // Find all sidebar list items
            const sidebarLinks = document.querySelectorAll('.sidebar-nav ul li a');

            sidebarLinks.forEach(link => {
              const linkText = link.textContent.trim();
              if (topLevelCategories.includes(linkText)) {
                // Check if this is a nested item (part of a generated ToC)
                const parentLi = link.closest('li');
                const parentUl = parentLi ? parentLi.closest('ul') : null;
                const isNested = parentUl && parentUl.parentElement.tagName === 'LI';

                if (isNested) {
                  // Hide the duplicate heading generated by Docsify
                  parentLi.style.display = 'none';
                }
              }
            });
          });
        }
      ]
    }
  </script>
  <link rel="stylesheet" href="//unpkg.com/docsify/lib/themes/vue.css" />
  <style>
    .app-name-link img {
      max-height: 40px;
    }
    .markdown-section blockquote {
      border-left: 4px solid var(--theme-color, #42b883);
      background: #f0f9ff;
      padding: 1rem;
      margin: 1rem 0;
      border-radius: 4px;
    }
    .research-notice {
      background: #fff3cd;
      border: 1px solid #ffeaa7;
      border-radius: 4px;
      padding: 1rem;
      margin: 1rem 0;
      color: #856404;
    }
  </style>
</head>
<body>
  <div id="app">Loading...</div>
  <script src="//unpkg.com/docsify/lib/docsify.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/search.min.js"></script>
  <script src="//unpkg.com/docsify/lib/plugins/zoom-image.min.js"></script>
</body>
</html>
